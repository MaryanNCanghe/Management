/* ============================================================
   ðŸŽ¨ SALES DASHBOARD â€” DARK EXECUTIVE THEME (Tableau/Glass)
   ============================================================ */

/* ========= THEME TOKENS ========= */
:root {
  --bg: #0f1116;                 /* deep slate */
  --panel: #141824;              /* card background */
  --panel-2: #10131c;            /* controls / contrast */
  --ink: #e9eef7;                /* primary text */
  --muted: #9aa6b2;              /* secondary text */
  --brand: #5aa9e6;              /* accent */
  --brand-2: #7bd389;            /* success accent */
  --warn: #ffc561;               /* warning accent */
  --danger: #ff7a7a;             /* danger accent */
  --border: rgba(255,255,255,.08);
  --grid: rgba(255,255,255,.06); /* subtle divider */
  --radius: 14px;
  --shadow: 0 10px 30px rgba(0,0,0,.28);

  /* Legacy tokens mapped for backwards compatibility */
  --teal: var(--brand);
  --blue: #5aa9e6;
  --purple: #9b59b6;
  --green: #7bd389;
  --red: #ff7a7a;
  --dark-text: var(--ink);
  --light-text: var(--muted);
}

/* Optional light theme */
:global(.light) {
  --bg: #f7f8fb;
  --panel: #ffffff;
  --panel-2: #f2f4f8;
  --ink: #10131a;
  --muted: #5a6675;
  --border: rgba(0,0,0,.10);
  --grid: rgba(0,0,0,.08);
  --shadow: 0 10px 24px rgba(0,0,0,.10);
}

/* ========= GLOBAL LAYOUT ========= */

.dashboardPage {
  min-height: 100vh;
  padding: clamp(20px, 3vw, 40px);
  background:
    radial-gradient(1200px 800px at 8% -10%, rgba(90,169,230,.10), transparent 60%),
    radial-gradient(1200px 800px at 92% 110%, rgba(123,211,137,.08), transparent 60%),
    var(--bg);
  color: var(--ink);
  display: flex;
  flex-direction: column;
  gap: 32px;
  font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
}

.pageTitle {
  font-size: clamp(28px, 4vw, 44px);
  font-weight: 800;
  letter-spacing: .4px;
  line-height: 1.1;
  color: var(--ink);
  margin-bottom: 6px;
}

/* ============================================================
   SECTION HEADERS + SUBTITLES
   ============================================================ */

.sectionHeaderPro {
  margin-top: 34px;
  margin-bottom: 6px;
  font-size: clamp(18px, 2.2vw, 24px);
  font-weight: 800;
  color: var(--ink);
  letter-spacing: .2px;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  position: relative;
}

.sectionHeaderPro::after {
  content: "";
  display: inline-block;
  width: 48px; height: 4px;
  background: linear-gradient(90deg, var(--brand), transparent);
  border-radius: 8px;
}

.sectionSubtitle {
  font-size: 14px;
  color: var(--muted);
  margin-top: -2px;
  margin-bottom: 10px;
}

/* ============================================================
   FLOATING PANELS / CARDS
   ============================================================ */

.dashboardCard {
  background:
    linear-gradient(180deg, rgba(255,255,255,.02), transparent),
    var(--panel);
  border: 1px solid var(--grid);
  border-radius: var(--radius);
  padding: clamp(16px, 2.2vw, 24px);
  box-shadow: var(--shadow);
  position: relative;

  /* ðŸ›¡ Fallback for iOS Safari <16 (no overflow: clip support) */
  overflow: hidden;

  transition: transform .18s ease, border-color .2s ease, box-shadow .3s ease;
}

@supports (overflow: clip) {
  .dashboardCard {
    overflow: clip;
  }
}

.dashboardCard:hover { transform: translateY(-1px); }

.dashboardTitle {
  font-size: clamp(18px, 2vw, 20px);
  font-weight: 800;
  color: var(--ink);
  margin-bottom: 14px;
}

/* ============================================================
   CHART WRAPPER
   ============================================================ */

.chartWrapper {
  width: 100%;
  height: 360px;
  border: 1px solid var(--border);
  background:
    linear-gradient(0deg, rgba(255,255,255,.02), transparent 40%),
    var(--panel-2);
  border-radius: 12px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.04);
  padding: 8px;

  canvas {
    width: 100% !important;
    height: 100% !important;
  }
}

/* ============================================================
   KPI GRID (legacy)
   ============================================================ */

.kpiGrid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 22px;
}

.kpiCard {
  background: var(--panel);
  border: 1px solid var(--grid);
  border-radius: 12px;
  padding: 18px;
  text-align: center;
  box-shadow: var(--shadow);
}

.kpiNumber {
  font-size: 40px;
  font-weight: 800;
  color: var(--brand);
}

.kpiLabel {
  font-size: 14px;
  color: var(--muted);
  margin-top: 4px;
}

/* ============================================================
   EXECUTIVE KPI PRO
   ============================================================ */

.kpiProGrid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: clamp(14px, 2vw, 22px);
}

.kpiProCard {
  background:
    linear-gradient(180deg, rgba(255,255,255,.02), transparent),
    var(--panel);
  border: 1px solid var(--grid);
  border-radius: 14px;
  padding: 18px 18px 16px 18px;
  box-shadow: var(--shadow);
  display: grid;
  gap: 10px;
  position: relative;
}

.kpiProCard::before {
  content: "";
  position: absolute;
  inset: 0;
  border-top: 5px solid var(--kpi-color, var(--brand));
  border-radius: inherit;
  pointer-events: none;
  opacity: .9;
}

.kpiProCard:hover { transform: translateY(-1px); }

.kpiProLabel {
  font-size: 12px;
  color: var(--muted);
  text-transform: uppercase;
  font-weight: 700;
  letter-spacing: .6px;
}

.kpiProValue {
  font-size: 34px;
  font-weight: 800;
  color: var(--ink);
  font-feature-settings: "tnum";
}

.kpiProSub {
  font-size: 12px;
  color: var(--muted);
}

.kpiBlue   { --kpi-color: var(--blue); }
.kpiGreen  { --kpi-color: var(--brand-2); }
.kpiRed    { --kpi-color: var(--danger); }
.kpiPurple { --kpi-color: var(--purple); }

/* Mini trend row */
.miniKPI {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.miniCircle {
  width: 10px; height: 10px; border-radius: 50%;
  background: var(--shape-color, var(--brand));

  /* ðŸ›¡ Fallback */
  box-shadow: 0 0 0 3px rgba(0,0,0,.3);

  /* ðŸŽ¨ Enhanced */
  @supports (color: color-mix(in oklab, white, black)) {
    box-shadow: 0 0 0 3px color-mix(in oklab, var(--shape-color, var(--brand)), transparent 80%);
  }
}

/* Sparkline placeholder */
.sparklinePlaceholder {
  width: 100%; height: 32px; border-radius: 6px;
  background: linear-gradient(90deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  border: 1px dashed rgba(255,255,255,.06);
}

/* Tiny CSS donut */
.miniDonut {
  --p: 72;
  --size: 54px;
  --track: rgba(255,255,255,.08);
  --fill: var(--kpi-color, var(--brand));
  width: var(--size); height: var(--size);
  background:
    conic-gradient(var(--fill) calc(var(--p)*1%), var(--track) 0),
    radial-gradient(circle at 50% 50%, var(--panel) 55%, transparent 56%);
  border-radius: 50%;
  position: relative;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.05);
}

.miniDonutLabel {
  position: absolute; inset: 0; display: grid; place-items: center;
  font-size: 12px; font-weight: 700; color: var(--ink);
}

/* ============================================================
   SHAPES + LIST / INFO TILES
   ============================================================ */

.shapeCircle, .shapeSquare, .shapeDiamond {
  width: 12px; height: 12px;
  background: var(--shape-color, var(--brand));
}
.shapeCircle { border-radius: 50%; }
.shapeSquare { border-radius: 3px; }
.shapeDiamond { transform: rotate(45deg); }

.listContainer {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: clamp(14px, 2vw, 22px);
}

.listItem {
  display: grid;
  grid-template-columns: 16px 1fr;
  gap: 12px;
  align-items: center;
  background:
    linear-gradient(180deg, rgba(255,255,255,.02), transparent),
    var(--panel);
  border: 1px solid var(--grid);
  border-radius: 12px;
  padding: 14px 16px;
  color: var(--ink);
  box-shadow: var(--shadow);
}

/* Info-tile API */
.biInfoGrid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: clamp(14px, 2vw, 22px);
  margin-bottom: 10px;
}
.biInfoCard {
  display: flex; align-items: center; gap: 14px;
  padding: 16px;
  background:
    linear-gradient(180deg, rgba(255,255,255,.02), transparent),
    var(--panel);
  border: 1px solid var(--grid);
  border-radius: 14px;
  box-shadow: var(--shadow);
  transition: transform .15s ease;
}
.biInfoCard:hover { transform: translateY(-2px); }
.biInfoTitle { font-size: 14px; font-weight: 700; color: var(--ink); }
.biInfoValue { font-size: 18px; font-weight: 800; color: var(--blue); }

/* ============================================================
   FILTER TOOLBAR
   ============================================================ */

.filterToolbar { display: grid; gap: 18px; }

.filterRow {
  display: flex; gap: 18px; flex-wrap: wrap; align-items: flex-end;
}

.field {
  display: grid; gap: 6px; min-width: 220px;
  label { font-size: 12px; color: var(--muted); font-weight: 700; letter-spacing: .2px; }
}

.input, .select {
  appearance: none;
  background:
    linear-gradient(180deg, rgba(255,255,255,.02), transparent),
    var(--panel-2);
  border: 1px solid var(--grid);
  border-radius: 10px;
  padding: 10px 12px;
  color: var(--ink);
  font-size: 14px;
  transition: border-color .15s ease, box-shadow .15s ease, background .15s ease;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.04);
}

/* input/select hover fix */
.input:hover, .select:hover {
  /* fallback */
  border-color: rgba(0,0,0,.4);

  @supports (color: color-mix(in oklab, white, black)) {
    border-color: color-mix(in oklab, var(--brand), black 40%);
  }
}

.input:focus, .select:focus {
  outline: none;
  border-color: var(--brand);

  /* fallback */
  box-shadow: 0 0 0 3px rgba(0,0,0,.3);

  @supports (color: color-mix(in oklab, white, black)) {
    box-shadow: 0 0 0 3px color-mix(in oklab, var(--brand), transparent 75%);
  }
}

/* Select arrow */
.select {
  background-image: linear-gradient(45deg, transparent 50%, var(--muted) 50%),
    linear-gradient(135deg, var(--muted) 50%, transparent 50%);
  background-position: right 12px top 14px, right 6px top 14px;
  background-size: 6px 6px;
  background-repeat: no-repeat;
  padding-right: 36px;
}

.toggleGroup { display: flex; gap: 10px; flex-wrap: wrap; }

.checkboxPill {
  display: inline-flex; align-items: center; gap: 8px;
  padding: 8px 14px; border-radius: 999px;
  border: 1px solid var(--grid);
  background: var(--panel-2);
  color: var(--ink); cursor: pointer; font-weight: 700;
  transition: background .15s ease, border-color .15s ease, box-shadow .15s ease, color .15s ease;
  position: relative;
}

.checkboxPill:hover {
  /* fallback */
  border-color: rgba(0,0,0,.4);

  @supports (color: color-mix(in oklab, white, black)) {
    border-color: color-mix(in oklab, var(--brand), black 40%);
  }
}

.checkboxPill[data-checked="true"] {
  /* fallback */
  background: rgba(90,169,230,.25);

  @supports (color: color-mix(in oklab, white, black)) {
    background: color-mix(in oklab, var(--brand), transparent 82%);
  }

  border-color: var(--brand);
  color: #eaf6ff;

  /* fallback */
  box-shadow: 0 4px 18px rgba(0,0,0,.3);

  @supports (color: color-mix(in oklab, white, black)) {
    box-shadow: 0 4px 18px color-mix(in oklab, var(--brand), transparent 78%);
  }
}

.checkboxPill:focus-within {
  outline: none;
  border-color: var(--brand);

  /* fallback */
  box-shadow: 0 0 0 3px rgba(0,0,0,.3);

  @supports (color: color-mix(in oklab, white, black)) {
    box-shadow: 0 0 0 3px color-mix(in oklab, var(--brand), transparent 75%);
  }
}

/* hide native checkbox */
.checkboxPill input {
  position: absolute; opacity: 0; width: 1px; height: 1px;
  overflow: hidden; clip-path: inset(50%); white-space: nowrap;
}

.helper { font-size: 12px; color: var(--muted); }

/* ============================================================
   SALES / REVENUE TREND CARDS
   ============================================================ */

.salesTrendCard {
  background:
    linear-gradient(180deg, rgba(255,255,255,.02), transparent),
    var(--panel);
  border: 1px solid var(--grid);
  border-radius: 16px;
  padding: 16px;
  box-shadow: var(--shadow);
  margin-bottom: 14px;
}

.salesTrendCard::before {
  content: ""; display: block; height: 4px; width: 64px;
  background: linear-gradient(90deg, var(--blue), transparent);
  border-radius: 6px; margin-bottom: 10px;
}

.salesTrendTitle {
  font-size: 16px; font-weight: 800; color: var(--ink); margin-bottom: 10px;
}

/* ============================================================
   TABLE STYLING
   ============================================================ */

.tableContainer {
  border-radius: 12px;
  border: 1px solid var(--grid);
  background: var(--panel);
  overflow: hidden;
  box-shadow: var(--shadow);
}

.table {
  width: 100%;
  border-collapse: collapse;
  font-size: 14px;
  color: var(--ink);
}

.table thead {
  background: linear-gradient(180deg, rgba(255,255,255,.02), transparent);
  border-bottom: 1px solid var(--grid);
}

.table th {
  padding: 12px 14px;
  font-weight: 800;
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: .4px;
}

.table td {
  padding: 12px 14px;
  border-bottom: 1px solid rgba(255,255,255,.06);
  color: var(--ink);
}

.table tr:nth-child(even) td { background: rgba(255,255,255,.02); }
.table tr:hover td { background: rgba(90,169,230,.05); }

/* ============================================================
   GRID LAYOUT
   ============================================================ */

.layoutGrid {
  display: grid;
  gap: clamp(14px, 2vw, 22px);

  @media (min-width: 900px) {
    grid-template-columns: 1.3fr 1fr;
  }
}

/* ============================================================
   LOADING
   ============================================================ */

.loading {
  text-align: center;
  padding: 12px;
  color: var(--muted);
  font-size: 14px;
}